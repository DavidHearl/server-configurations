{% extends "base.html" %}

{% block title %}Login - Server Configurations{% endblock %}

{% block content %}
<div style="max-width: 400px; margin: 100px auto; padding: 30px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <h2 style="margin-bottom: 30px; text-align: center; color: #333;">Login Required</h2>
    
    {% if form.errors %}
        <div style="background-color: #fee; border: 1px solid #fcc; color: #c33; padding: 10px; border-radius: 4px; margin-bottom: 20px;">
            <p style="margin: 0;"><strong>Error:</strong> Your username and password didn't match. Please try again.</p>
        </div>
    {% endif %}

    {% if next %}
        {% if user.is_authenticated %}
            <div style="background-color: #fee; border: 1px solid #fcc; color: #c33; padding: 10px; border-radius: 4px; margin-bottom: 20px;">
                <p style="margin: 0;">Your account doesn't have access to this page. To proceed, please login with an account that has access.</p>
            </div>
        {% endif %}
    {% endif %}

    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        
        <div style="margin-bottom: 20px;">
            <label for="id_username" style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">Username:</label>
            <input type="text" name="username" id="id_username" required autofocus 
                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
        </div>

        <div style="margin-bottom: 25px;">
            <label for="id_password" style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">Password:</label>
            <input type="password" name="password" id="id_password" required 
                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">
        </div>

        <button type="submit" 
                style="width: 100%; padding: 12px; background-color: #007bff; color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: 500; cursor: pointer;">
            Login
        </button>
        
        <input type="hidden" name="next" value="{{ next }}" />
    </form>
</div>
{% endblock %}
